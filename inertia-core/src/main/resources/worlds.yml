world:
  # Гравитация (X Y Z).
  gravity: "0.0 -17.18 0.0"

  # Частота обновления физики (раз в секунду).
  tick-rate: 20

  # Количество подшагов коллизии за один тик.
  collision-steps: 4

  # --- Настройки размеров мира и границ ---
  size:
    # [Origin]
    # Центр физического мира (X Z). Y всегда равен 0.
    # Используется для повышения точности (Jolt Local Space).
    # Пример: "0 0" = X=0, Z=0.
    origin: "0 0"

    # Высота мира (мин/макс Y), формат: "minY maxY".
    height-size: "-128 1024"

    # [Способ 1: Явные границы]
    # Границы мира по X Z. Y игнорируется (используется height-size).
    min: "-5120 -5120"
    max: "5120 5120"

    # [Способ 2: Радиус] (альтернатива min/max)
    # radius: 1000.0

    # [Способ 3: Ширина/длина] (альтернатива min/max)
    # width: 2000.0
    # length: 2000.0

    # [Поведение границ]
    # Создавать ли невидимые стены по периметру (4 стены).
    create-walls: true

    # Удалять объекты, если они упали ниже minY (из height-size).
    kill-below-min-y: true

    # Удалять объекты, вышедшие за пределы X/Z.
    prevent-exit: true

  # --- Симуляция окружения (Terrain/Floors) ---
  simulation:
    # Включить/выключить симуляцию окружения.
    enable: true

    # Тип симуляции:
    # NONE | FLOOR_PLANE | GREEDY_MESH | HEIGHTFIELD | HYBRID
    type: GREEDY_MESH

    # Настройки пола (используются при FLOOR_PLANE).
    floor-plane:
      # Уровень пола (Y).
      y-level: 300
      # Толщина пола (в блоках).
      y-size: 1
      # Коэффициент трения.
      friction: 1.0
      # Коэффициент упругости.
      restitution: 0.025
      size:
        # Центр пола (X Z).
        origin: "0 0"
        # Границы пола по X Z.
        min: "-100 -100"
        max: "100 100"

  # --- Настройки солвера ---
  solver:
    velocity-iterations: 10
    position-iterations: 2
    baumgarte-stabilization: 0.2
    speculative-contact-distance: 0.02
    penetration-slop: 0.02
    linear-cast-threshold: 0.75
    linear-cast-max-penetration: 0.25
    manifold-tolerance: 1.0e-3
    max-penetration-distance: 0.2
    constraint-warm-start: true
    use-body-pair-contact-cache: true
    use-large-island-splitter: true
    allow-sleeping: true
    deterministic-simulation: true

  # --- Производительность ---
  performance:
    max-bodies: 65536
    num-body-mutexes: 0
    max-body-pairs: 65536
    max-contact-constraints: 10240
    temp-allocator-size: 10485760

  # --- Настройки сна ---
  sleeping:
    point-velocity-threshold: 0.03
    time-before-sleep: 0.5
