########################
# Blocks Configuration #
########################
blocks:
  stone:
    render:
      model: stone
    physics:
      angular-damping: 0.1
      linear-damping: 0.3
      friction: 1.0
      restitution: 0.025
      mass: 100.0
      motion-type:  Dynamic
      object-layer: 0
      shape:
        - "type=box x=0.5 y=0.5 z=0.5"
  grass:
    render:
      model: grass
    physics:
      angular-damping: 0.1
      linear-damping: 0.3
      friction: 1.0
      restitution: 0.025
      mass: 50.0
      motion-type: Dynamic
      object-layer: 0
      shape:
        - "type=box x=0.5 y=0.5 z=0.5"
  tnt:
    render:
      model: tnt
    physics:
      angular-damping: 0.1
      linear-damping: 0.3
      friction: 1.0
      restitution: 0.025
      mass: 50.0
      motion-type: Dynamic
      object-layer: 0
      shape:
        - "type=box x=0.5 y=0.5 z=0.5"
  slab:
    render:
      model: slab
    physics:
      angular-damping: 0.1
      linear-damping: 0.3
      friction: 1.0
      restitution: 0.025
      mass: 10.0
      motion-type: Dynamic
      object-layer: 0
      shape:
        - "type=box x=0.5 y=0.25 z=0.5"

  #########################
  # Test / Sandbox bodies #
  #########################
  test_light_cube:
    render:
      model: test_light_cube
    physics:
      mass: 2.0
      friction: 0.6
      restitution: 0.05
      linear-damping: 0.02
      angular-damping: 0.02
      motion-type: Dynamic
      object-layer: 0
      shape:
        - "type=box x=0.5 y=0.5 z=0.5"

  test_heavy_cube:
    render:
      model: test_heavy_cube
    physics:
      mass: 250.0
      friction: 0.9
      restitution: 0.0
      linear-damping: 0.05
      angular-damping: 0.05
      motion-type: Dynamic
      object-layer: 0
      shape:
        - "type=box x=0.5 y=0.5 z=0.5"

  test_slippery_puck:
    render:
      model: test_slippery_puck
    physics:
      mass: 12.0
      friction: 0.02
      restitution: 0.02
      linear-damping: 0.01
      angular-damping: 0.01
      motion-type: Dynamic
      object-layer: 0
      shape:
        - "type=cylinder radius=0.45 height=0.2"

  test_bouncy_ball:
    render:
      model: test_bouncy_ball
    physics:
      mass: 6.0
      friction: 0.15
      restitution: 0.9
      linear-damping: 0.01
      angular-damping: 0.01
      motion-type: Dynamic
      object-layer: 0
      shape:
        - "type=sphere radius=0.4"

  test_capsule:
    render:
      model: test_capsule
    physics:
      mass: 18.0
      friction: 0.4
      restitution: 0.05
      linear-damping: 0.02
      angular-damping: 0.02
      motion-type: Dynamic
      object-layer: 0
      shape:
        - "type=capsule height=1.6 radius=0.25"

  test_compound_hammer:
    render:
      model: test_compound_hammer
    physics:
      mass: 35.0
      friction: 0.7
      restitution: 0.02
      linear-damping: 0.03
      angular-damping: 0.03
      motion-type: Dynamic
      object-layer: 0
      shape:
        # handle
        - "type=box x=0.08 y=0.45 z=0.08 px=0.0 py=0.0 pz=0.0"
        # head
        - "type=box x=0.32 y=0.10 z=0.12 px=0.0 py=0.50 pz=0.0"

  test_static_wall:
    render:
      model: test_static_wall
    physics:
      mass: 1.0
      friction: 0.9
      restitution: 0.0
      motion-type: Static
      object-layer: 0
      shape:
        - "type=box x=0.5 y=1.0 z=0.15"

########################
# Chains Configuration #
########################
chains:
  test_heavy_chain:
    render:
      model: iron_chain
    physics:
      mass: 100.0
      friction: 1.0
      restitution: 0.0
      linear-damping: 0.5
      angular-damping: 0.5
      motion-type: Dynamic
      object-layer: 0
      shape: "type=box x=0.1 y=0.5 z=0.1"
    creation:
      spacing: 0.9
      joint-offset: 0.45

    # Базовые настройки стабилизации (используются, если adaptive: enable: false)
    stabilization:
      position-iterations: 4
      velocity-iterations: 4

    # АДАПТИВНАЯ ФИЗИКА
    adaptive:
      enable: true
      min-length: 10   # Для цепей короче 10 блоков...
      max-length: 100  # Для цепей длиннее 100 блоков...

      # Гравитация:
      gravity:
        short: 0.8     # Короткие падают реалистично (полный вес)
        long: 0.005      # Длинные почти невесомы (чтобы не рвались)

      # Итерации (Точность):
      iterations:
        short: 4       # Короткие экономят процессор
        long: 32       # Длинные используют максимум мощности для жесткости

    limits:
      angular-movement:
        swing-limit-angle: 45.0
        twist-mode: FREE

  test_light_chain:
    render:
      model: iron_chain
    physics:
      mass: 15.0
      friction: 0.4
      restitution: 0.0
      linear-damping: 1.2
      angular-damping: 1.2
      motion-type: Dynamic
      object-layer: 0
      shape: "type=box x=0.08 y=0.35 z=0.08"
    creation:
      spacing: 0.8
      joint-offset: 0.35
    stabilization:
      position-iterations: 2
      velocity-iterations: 2
    adaptive:
      enable: false
    limits:
      angular-movement:
        swing-limit-angle: 65.0
        twist-mode: FREE

##########################
# Ragdolls Configuration #
##########################
ragdolls:
  steve:
    parts:
      # --- TORSO ---
      torso:
        mass: 30.0
        size: "0.5 0.75 0.25"
        # Зберігаємо ваш налаштований шейп
        shape: "type=box x=0.25 y=0.375 z=0.125"
        render-model: "ragdoll_torso"
        physics:
          linear-damping: 0.05
          angular-damping: 0.05
          friction: 0.6
          restitution: 0.0

      # --- HEAD ---
      head:
        mass: 8.0
        size: "0.5 0.5 0.5"
        shape: "type=box x=0.1875 y=0.1875 z=0.1875"
        render-model: "ragdoll_head"
        parent: "torso"
        physics:
          linear-damping: 0.05
          angular-damping: 0.05
          friction: 0.6
        joint:
          # Ваші координати
          parent-pivot: "0.0 0.375 0.0"
          child-pivot: "0.0 -0.25 0.0"
          fixed-axes: ["TranslationX", "TranslationY", "TranslationZ"]
          limits:
            # Обмеження шиї (в градусах)
            rotation-x: "-45 45"  # Кивок
            rotation-y: "-50 50"  # Поворот голови
            rotation-z: "-30 30"  # Нахил до плеча

      # --- ARMS ---
      left-arm:
        mass: 6.0
        size: "0.25 0.75 0.25"
        shape: "type=box x=0.0625 y=0.375 z=0.0625"
        render-model: "ragdoll_left_arm"
        parent: "torso"
        physics:
          linear-damping: 0.05
          angular-damping: 0.05
          friction: 0.6
        joint:
          # Ваші координати
          parent-pivot: "-0.37 0.52 0.0"
          child-pivot: "-0.0 0.375 0.0"
          fixed-axes: ["TranslationX", "TranslationY", "TranslationZ"]
          limits:
            # Руки мають велику свободу
            rotation-x: "-160 160" # Мах вперед/назад
            rotation-y: "-90 90"   # Обертання навколо осі
            rotation-z: "-160 160" # Підняття/опускання

      right-arm:
        mass: 6.0
        size: "0.25 0.75 0.25"
        shape: "type=box x=0.0625 y=0.375 z=0.0625"
        render-model: "ragdoll_right_arm"
        parent: "torso"
        physics:
          linear-damping: 0.05
          angular-damping: 0.05
          friction: 0.6
        joint:
          # Ваші координати
          parent-pivot: "0.37 0.52 0.0"
          child-pivot: "0.0 0.375 0.0"
          fixed-axes: ["TranslationX", "TranslationY", "TranslationZ"]
          limits:
            rotation-x: "-160 160"
            rotation-y: "-90 90"
            rotation-z: "-160 160"

      # --- LEGS ---
      left-leg:
        mass: 7.0
        size: "0.25 0.75 0.25"
        shape: "type=box x=0.0625 y=0.375 z=0.0625"
        render-model: "ragdoll_left_leg"
        parent: "torso"
        collide-with-parent: false
        physics:
          linear-damping: 0.05
          angular-damping: 0.05
          friction: 0.6
        joint:
          # Ваші координати
          parent-pivot: "-0.145 -0.12 0.0"
          child-pivot: "0.0 0.375 0.0"
          fixed-axes: ["TranslationX", "TranslationY", "TranslationZ"]
          limits:
            # Ноги обмежені, щоб коліна не вивертались
            rotation-x: "-30 110" # Крок: трохи назад, сильно вперед (сидячи)
            rotation-y: "-10 10"  # Стопа майже не крутиться
            rotation-z: "-20 20"  # Шпагат обмежений

      right-leg:
        mass: 7.0
        size: "0.25 0.75 0.25"
        shape: "type=box x=0.0625 y=0.375 z=0.0625"
        render-model: "ragdoll_right_leg"
        parent: "torso"
        collide-with-parent: false
        physics:
          linear-damping: 0.05
          angular-damping: 0.05
          friction: 0.6
        joint:
          # Ваші координати
          parent-pivot: "0.145 -0.12 0.0"
          child-pivot: "0.0 0.375 0.0"
          fixed-axes: ["TranslationX", "TranslationY", "TranslationZ"]
          limits:
            rotation-x: "-30 110"
            rotation-y: "-10 10"
            rotation-z: "-20 20"
